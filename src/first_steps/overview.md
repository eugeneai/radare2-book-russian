## Пакет программ radare2

Программная система Radare2 представляет собой набор небольших утилит командной строки, используемых вместе или по отдельности.

Глава дает общее представление о том, как они функционируют, в специальных разделах в конце книги есть информация по каждому инструменту.

### Программа radare2

Основной инструмент программной системы. Он основан на ядре, включающем шестнадцатеричный редактор и отладчик. Программа Radare2 позволяет загружать и отображать данные, полученные из различных источников данных (ввода/вывода), включая диски, сетевые подключения, драйверы ядра, отлаживаемые процессы и т.д., как будто это обычные файлы.

Возможности реализованного в ней интерфейса командной строки позволяют перемещаться по файлу, проводить анализ данных, дизассемблировать, вносить исправления в двоичные файлы, сравнивать данные, осуществлять поиск и замену, а также визуализацию. Также можно управлять этим интерфейсом из различных языков программирования, включая Python, Ruby, JavaScript, Lua и Perl.

### Программа rabin2

Программа для извлечения информации из исполняемых двоичных файлов, таких как ELF, PE, Java CLASS, Mach-O, а также любого другого формата, поддерживаемого плагинами r2. Программа rabin2 используется ядром для получения данных о формате файла, например, перечень экспортированных символов, импортов, информации о формате файлов, перекрестных ссылках (xrefs), зависимостей библиотек и разделов (секций загрузчика).

### Программа rasm2

Ассемблер и дизассемблер, управляемый из командной строки операционной системы, поддерживающий огромное множество архитектур, включая Intel x86 и x86-64, MIPS, ARM, PowerPC, Java.

#### Примеры
```
$ rasm2 -a java 'nop'
00
```
```
$ rasm2 -a x86 -d '90'
nop
```
```
$ rasm2 -a x86 -b 32 'mov eax, 33'
b821000000
```
```
$ echo 'push eax;nop;nop' | rasm2 -f -
509090
```

### Программа rahash2

Реализация блочного хеширования. Она позволяет хэшировать текстовые строки и большие пространства на диске, rahash2 поддерживает много различных алгоритмов, включая MD4, MD5, CRC16, CRC32, SHA1, SHA256.
Программа rahash2 используется для проверки целостности или отслеживания изменений больших файлов, дампов памяти или дисков.

### Примеры
```
$ rahash2 file
file: 0x00000000-0x00000007 sha256: 887cfbd0d44aaff69f7bdbedebd282ec96191cce9d7fa7336298a18efc3c7a5a
```
```
$ rahash2 -a md5 file
file: 0x00000000-0x00000007 md5: d1833805515fc34b46c2b9de553f599d
```
### Программа radiff2

Утилита для сравнения двоичных файлов, реализующая множество алгоритмов. Она поддерживает побайтовое сравнение или представление выявленных различий двоичных файлов, а также сравнение результатов анализа кода, полученных из радара, для поиска изменений в блоках кода.

### Программа rafind2

Программа для поиска байтов в файлах по заданным шаблонам.

### Программа ragg2

Представляет функции r_egg в виде утилиты командной строки. Программа ragg2 компилирует программы, представленные на простом языке высокого уровня, в крошечные двоичные файлы для архитектур x86, x86-64 и ARM.

#### Примеры

```
$ cat hi.r
/* hello world in r_egg */
write@syscall(4); //x64 write@syscall(1);
exit@syscall(1); //x64 exit@syscall(60);

main@global(128) {
 .var0 = "hi!\n";
 write(1,.var0, 4);
 exit(0);
}
$ ragg2 -O -F hi.r
$ ./hi
hi!

$ cat hi.c
main@global(0,6) {
 write(1, "Hello0", 6);
 exit(0);
}
$ ragg2 hi.c
$ ./hi.c.bin
Hello
```

### Программа rarun2

Предназначена для запуска программ в разных средах, с другими аргументами,
разрешениями, в других каталогах и переопределенными файловыми дескрипторами по умолчанию. Программ rarun2 используется для

* Решения задачек crackme
* Fuzzing
* Организации различного рода тестов

#### Пример скрипта rarun2
```
$ cat foo.rr2
#!/usr/bin/rarun2
program=./pp400
arg0=10
stdin=foo.txt
chdir=/tmp
#chroot=.
./foo.rr2
```

#### Подключение программы к сокету
```
$ nc -l 9999
$ rarun2 program=/bin/ls connect=localhost:9999
```

#### Отладка программы, перенаправив stdio в другой терминал

1 - Откройте новый терминал и введите 'tty', чтобы получить название терминала:

```
$ tty ; clear ; sleep 999999
/dev/ttyS010
```

2 - Создайте новый файл, содержащий следующий профиль rarun2 с именем foo.rr2:
```
#!/usr/bin/rarun2
program=/bin/ls
stdio=/dev/ttys010
```

3 - Теперь запустите команду radare2:
```
r2 -r foo.rr2 -d /bin/ls
```

### Программа rax2

Минималистичный вычислитель математических выражений, используемый в командной строке операцонной системы. Он полезен для выполнения базовых преобразований значений чисел с плавающей запятой в их шестнадцатеричное представление, шестнадцатеричных строк в ASCII, восьмеричных чисел в десятичные целые и многое другое. Программа также поддерживает установку порядка следования байтов в представлении, используется также в качестве интерактивной оболочки если аргументы не были в командной строке заданы.

#### Примеры

```
$ rax2 1337
0x539

$ rax2 0x400000
4194304

$ rax2 -b 01111001
y

$ rax2 -S radare2
72616461726532

$ rax2 -s 617765736f6d65
awesome
```
