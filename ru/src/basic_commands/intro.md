# Основные команды

Большинство имен команд в radare являются производными от названий действий. Их легко запомнить, так как они короткие. На самом деле, все команды являются одиночными буквами. Подкоманды или связанные команды задаются с помощью второго символа в названии. Например, `/ foo` — это команда для поиска строки, а `/x 90 90` используется для поиска шестнадцатеричных пар.

Общий формат команды (как описано в главе [Формат команды](../first_steps/command_format.md)) выглядит следующим образом:

```
[.][times][cmd][~grep][@[@iter]addr!size][|>pipe] ; ...
```

Например,

```
> 3s +1024    ; ищет три раза 1024 из текущего смещения
```

Если команда начинается с `=!`, остальная часть строки передается загруженному в данный момент подключаемому модулю (например, отладчику). Большинство плагинов предоставляют инструкции при помощи `=!?` или `=!help`.

```
$ r2 -d /bin/ls
> =!help      ; обрабатывается плагином ввода-вывода
```

Если команда начинается с `!`, вызывается posix_system() для передачи команды в оболочку. Ознакомьтесь `!?` для получения дополнительных вариантов и примеров использования.

```
> !ls         ; запустить `ls` в операционной системе
```

Значение аргументов (iter, addr, size) зависит от конкретной команды. Как правило, большинство команд принимают число в качестве аргумента, чтобы указать количество байтов для работы, а не текущий размер блока. Некоторые команды принимают математические выражения или строки.

```
> px 0x17     ; show 0x17 bytes in hexs at current seek
> s base+0x33 ; seeks to flag 'base' plus 0x33
> / lib       ; search for 'lib' string.
```

Знак `@` используется для указания временного адреса или смещения, в которой выполняется команда, вместо текущей позиции поиска. Очень удобно, так как вам не нужно переустанавливать смещение всякий раз.

```
> p8 10 @ 0x4010  ; show 10 bytes at offset 0x4010
> f patata @ 0x10 ; set 'patata' flag at offset 0x10
```

Используя `@@`, можно выполнить одну команду над списком флагов, подобно glob. Можете воспринимать это как foreach:

```
> s 0
> / lib             ; search 'lib' string
> p8 20 @@ hit0_*   ; show 20 hexpairs at each search hit
```

Операция `>` используется для перенаправления выходных данных команды в файл (перезаписи его, если он уже существует).

```
> pr > dump.bin   ; dump 'raw' bytes of current block to file named 'dump.bin'
> f  > flags.txt  ; dump flag list to 'flags.txt'
```

Операция `|` (канал) аналогична тому, что в оболочке *NIX: cnfylfhnysq вывод одной команды в качестве входных данных для другой.

```
[0x4A13B8C0]> f | grep section | grep text
0x0805f3b0 512 section._text
0x080d24b0 512 section._text_end
```

Можно передать несколько команд в одной строке, разделив их точкой с запятой `;`:

```
> px ; dr
```

С помощью `_` можно распечатать результат, полученный последней командой.

```
[0x00001060]> axt 0x00002004
main 0x1181 [DATA] lea rdi, str.argv__2d_:__s
[0x00001060]> _
main 0x1181 [DATA] lea rdi, str.argv__2d_:__s
```
