# Конфигурация

Конфигурация radare2 выполняется с помощью команд установки `переменных среды`. Ядро считывает и интерпретирует `~/.config/radare2/radare2rc` во время запуска. Можно добавлять `е`-команды в этот файл для настройки конфигурацию Radare2 по своему вкусу. Для предотвращения загрузки этого файла при запуске, установите флаг командной строки `-N`. Типичный файл конфигурации запуска выглядит так:
```sh
$ cat ~/.radare2rc
e scr.color = 1
e dbg.bep   = loader
```
Конфигурацию также можно изменять с помощью флагов формата `-е` <config=value> в строке параметров при запуске. Таким образом, можно подправить конфигурацию из командной строки, сохранив файл `.radare2rc` не тронутым. Например, чтобы начать с пустой конфигурации, а затем настроить `scr.color` а также `asm.syntax` можно использовать следующую строку:
```sh
$ radare2 -N -e scr.color=1 -e asm.syntax=intel -d /bin/ls
```
Внутри r2 конфигурация хранится в хеш-таблице. Переменные сгруппированы в пространства имен: `cfg.`, `file.`, `dbg.`, `scr.` и так далее.

Чтобы получить список всех переменных конфигурации, просто введите `е` в командной строке r2. Чтобы ограничить вывод выбранным пространством имен, передайте его с точкой в конце `е <имя пространства>.` Например, `е file.` отобразит все переменные, определенные внутри пространства имен «file».

Чтобы получить инструкции о команде `e` - `e?`:

```
Usage: e [var[=value]]  Evaluable vars
| e?asm.bytes     показать описание
| e??             перечислить конфигурационные переменные с описаниями
| e a             получить значение переменной 'a'
| e a=b           установить значение переменной 'a' равным 'b'
| e var=?         показать все возможные значения переменной
| e var=??        показать все возможные значения переменной с описаниями
| e.a=b           аналогично 'e a=b', но без использования пробела
| e,k=v,k=v,k=v   разделение запятой k[=v]
| e-              сбросить значения к начальным
| e*              сделать дамп переменных конфигурации в виде команд r
| e!a             инвертировать логическое значение переменной 'a'
| ec [k] [color]  установить цвет для заданного ключа (prompt, offset, ...)
| eevar           открыть редактор для изменения переменных
| ed              открыть редактор для изменения ~/.radare2rc
| ej              перечислить конфигурационные переменные в формате JSON
| env [k[=v]]     получить/установить значение переменной среды
| er [key]        установить режим доступа к конфигурационному ключу "только для чтения", и ... нет пути назад
| es [space]      показать все пространства конфигурационных переменных (не ключей)
| et [key]        показать тип заданной конфигурационной переменной
| ev [key]        перечислить конфигурационные переменные в подробном виде
| evj [key]       перечислить конфигурационные переменные в подробном виде в формате JSON
```

Более простая альтернатива команде `e` доступна из визуального режима. Наберите `Ve` для входа в этот режим, используйте стрелки (вверх, вниз, влево, вправо) для навигации по конфигурации и `q` - выход из этого режима. В начале экран визуального редактирования конфигурации выглядит так:

```
[EvalSpace]

    >  anal
       asm
       scr
       asm
       bin
       cfg
       diff
       dir
       dbg
       cmd
       fs
       hex
       http
       graph
       hud
       scr
       search
       io
```

Для значений конфигурации, которые могут принимать одно из нескольких значений, вы можете использовать `=?`, оператор для получения списка допустимых значений:

```
[0x00000000]> e scr.nkey = ?
scr.nkey = fun, hit, flag
```
